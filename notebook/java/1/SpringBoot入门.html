<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringBoot 入门 | zZ爱吃菜</title>
    <meta name="description" content="记录开发，记录生活">
    <link rel="icon" href="/img/logo.jpg">
  <link rel="stylesheet" href="/css/style.css">
  <script charset="utf-8" src="/js/main.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.626fedcf.css" as="style"><link rel="preload" href="/assets/js/app.d9b0a8be.js" as="script"><link rel="preload" href="/assets/js/2.dfeefe94.js" as="script"><link rel="preload" href="/assets/js/5.d7099aa7.js" as="script"><link rel="prefetch" href="/assets/js/10.e7a674a5.js"><link rel="prefetch" href="/assets/js/11.4c8bf6d5.js"><link rel="prefetch" href="/assets/js/12.4e0fd2f1.js"><link rel="prefetch" href="/assets/js/13.e8c8f626.js"><link rel="prefetch" href="/assets/js/14.10696f84.js"><link rel="prefetch" href="/assets/js/15.f8a89e08.js"><link rel="prefetch" href="/assets/js/16.1eb5263d.js"><link rel="prefetch" href="/assets/js/17.4ddc1a01.js"><link rel="prefetch" href="/assets/js/18.c9fd674d.js"><link rel="prefetch" href="/assets/js/19.c2c69591.js"><link rel="prefetch" href="/assets/js/20.65d01b8c.js"><link rel="prefetch" href="/assets/js/21.e6d01b88.js"><link rel="prefetch" href="/assets/js/22.33adbd14.js"><link rel="prefetch" href="/assets/js/23.118165f1.js"><link rel="prefetch" href="/assets/js/24.ada5e265.js"><link rel="prefetch" href="/assets/js/25.f0ed3bf8.js"><link rel="prefetch" href="/assets/js/26.e32e4e04.js"><link rel="prefetch" href="/assets/js/27.bd826510.js"><link rel="prefetch" href="/assets/js/28.99d06e23.js"><link rel="prefetch" href="/assets/js/29.5b4419ec.js"><link rel="prefetch" href="/assets/js/3.a78a1311.js"><link rel="prefetch" href="/assets/js/30.b2cb92b1.js"><link rel="prefetch" href="/assets/js/31.c0466e6c.js"><link rel="prefetch" href="/assets/js/32.e184aa1f.js"><link rel="prefetch" href="/assets/js/33.7a83e3fe.js"><link rel="prefetch" href="/assets/js/34.1951b7b7.js"><link rel="prefetch" href="/assets/js/35.d76d9386.js"><link rel="prefetch" href="/assets/js/36.72f6a253.js"><link rel="prefetch" href="/assets/js/37.bf4d697b.js"><link rel="prefetch" href="/assets/js/38.bbb2dce8.js"><link rel="prefetch" href="/assets/js/39.26c29e6f.js"><link rel="prefetch" href="/assets/js/4.a640192c.js"><link rel="prefetch" href="/assets/js/40.8355738f.js"><link rel="prefetch" href="/assets/js/41.e1f1230b.js"><link rel="prefetch" href="/assets/js/42.d4a8991e.js"><link rel="prefetch" href="/assets/js/43.cb8a7199.js"><link rel="prefetch" href="/assets/js/44.f2da1d0c.js"><link rel="prefetch" href="/assets/js/45.b95d08b5.js"><link rel="prefetch" href="/assets/js/46.e0cea998.js"><link rel="prefetch" href="/assets/js/47.d9461b52.js"><link rel="prefetch" href="/assets/js/48.61786f7c.js"><link rel="prefetch" href="/assets/js/49.3987afca.js"><link rel="prefetch" href="/assets/js/50.159bf9af.js"><link rel="prefetch" href="/assets/js/51.d6ad7976.js"><link rel="prefetch" href="/assets/js/52.3c9d6bb6.js"><link rel="prefetch" href="/assets/js/53.457392fd.js"><link rel="prefetch" href="/assets/js/54.289f8965.js"><link rel="prefetch" href="/assets/js/55.7bea2695.js"><link rel="prefetch" href="/assets/js/56.b0d493cc.js"><link rel="prefetch" href="/assets/js/57.9ad7f812.js"><link rel="prefetch" href="/assets/js/58.ba4cb581.js"><link rel="prefetch" href="/assets/js/59.7b6814b7.js"><link rel="prefetch" href="/assets/js/6.10be9919.js"><link rel="prefetch" href="/assets/js/60.f757e747.js"><link rel="prefetch" href="/assets/js/61.6e65aff4.js"><link rel="prefetch" href="/assets/js/62.ed989088.js"><link rel="prefetch" href="/assets/js/63.fcf0b41d.js"><link rel="prefetch" href="/assets/js/64.eac23bf1.js"><link rel="prefetch" href="/assets/js/65.5503d6c5.js"><link rel="prefetch" href="/assets/js/66.03f5104b.js"><link rel="prefetch" href="/assets/js/67.48e84939.js"><link rel="prefetch" href="/assets/js/68.2ed028b5.js"><link rel="prefetch" href="/assets/js/7.c17c72ee.js"><link rel="prefetch" href="/assets/js/8.593bcd4c.js"><link rel="prefetch" href="/assets/js/9.3d01efee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.626fedcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">zZ爱吃菜</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">随笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/php/" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/notebook/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/notebook/java/" class="nav-link router-link-active">JAVA</a></li><li class="dropdown-subitem"><a href="/notebook/server/" class="nav-link">服务器</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/js/" class="nav-link">Javascript</a></li><li class="dropdown-subitem"><a href="/notebook/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/notebook/flutter/" class="nav-link">Flutter</a></li><li class="dropdown-subitem"><a href="/notebook/ios/" class="nav-link">iOS</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">进阶之路</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/oop/" class="nav-link">PHP面向对象编程</a></li><li class="dropdown-item"><!----> <a href="/advance/cit/" class="nav-link">CIT框架设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">我的项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/lwadmin/" class="nav-link">LW.ADMIN</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>博客指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">随笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/php/" class="nav-link">PHP</a></li><li class="dropdown-subitem"><a href="/notebook/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/notebook/java/" class="nav-link router-link-active">JAVA</a></li><li class="dropdown-subitem"><a href="/notebook/server/" class="nav-link">服务器</a></li></ul></li><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/js/" class="nav-link">Javascript</a></li><li class="dropdown-subitem"><a href="/notebook/css/" class="nav-link">CSS</a></li><li class="dropdown-subitem"><a href="/notebook/flutter/" class="nav-link">Flutter</a></li><li class="dropdown-subitem"><a href="/notebook/ios/" class="nav-link">iOS</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">进阶之路</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/oop/" class="nav-link">PHP面向对象编程</a></li><li class="dropdown-item"><!----> <a href="/advance/cit/" class="nav-link">CIT框架设计</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">我的项目</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/lwadmin/" class="nav-link">LW.ADMIN</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>在线服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>博客指南</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JAVA 学习</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/java/1/SpringBoot入门.html" class="active sidebar-link">SpringBoot 入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#一、环境搭建" class="sidebar-link">一、环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_1-安装-java-sdk" class="sidebar-link">1. 安装 JAVA SDK</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_2-安装-maven" class="sidebar-link">2. 安装 Maven</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#二、springboot-基本用法" class="sidebar-link">二、SpringBoot 基本用法</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#三、项目的运行与部署" class="sidebar-link">三、项目的运行与部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_1-直接在-idea-软件" class="sidebar-link">1.直接在 IDEA 软件</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_2-在终端运行" class="sidebar-link">2.在终端运行</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_3-直接打包项目部署" class="sidebar-link">3.直接打包项目部署</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#备注" class="sidebar-link">备注</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#四、springboot-配置" class="sidebar-link">四、SpringBoot 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_1-application-properties" class="sidebar-link">1.application.properties</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_3-常量的配置与使用" class="sidebar-link">3.常量的配置与使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_4-对象配置（类似类）" class="sidebar-link">4. 对象配置（类似类）</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_5-配置运行环境" class="sidebar-link">5.配置运行环境</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_6、调整-idea-运行时输出的日志内容" class="sidebar-link">6、调整 IDEA 运行时输出的日志内容</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_7、mybatis-的一些配置" class="sidebar-link">7、Mybatis 的一些配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#五、springboot-controller-的使用" class="sidebar-link">五、SpringBoot Controller 的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_1-常见注解" class="sidebar-link">1. 常见注解</a></li></ul></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#六、-springboot-数据库操作——spring-data-jpa" class="sidebar-link">六、 SpringBoot 数据库操作——Spring-Data-Jpa</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#七、事务" class="sidebar-link">七、事务</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#idea-使用技巧" class="sidebar-link">IDEA 使用技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_1-快捷键" class="sidebar-link">1.快捷键</a></li><li class="sidebar-sub-header"><a href="/notebook/java/1/SpringBoot入门.html#_2-快速开发的三个配置" class="sidebar-link">2. 快速开发的三个配置</a></li></ul></li></ul></li><li><a href="/notebook/java/2/SpringBoot接口规范.html" class="sidebar-link">SpringBoot 中接口规范</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springboot-入门"><a href="#springboot-入门" aria-hidden="true" class="header-anchor">#</a> SpringBoot 入门</h1> <h2 id="一、环境搭建"><a href="#一、环境搭建" aria-hidden="true" class="header-anchor">#</a> 一、环境搭建</h2> <h3 id="_1-安装-java-sdk"><a href="#_1-安装-java-sdk" aria-hidden="true" class="header-anchor">#</a> 1. 安装 JAVA SDK</h3> <h3 id="_2-安装-maven"><a href="#_2-安装-maven" aria-hidden="true" class="header-anchor">#</a> 2. 安装 Maven</h3> <h2 id="二、springboot-基本用法"><a href="#二、springboot-基本用法" aria-hidden="true" class="header-anchor">#</a> 二、SpringBoot 基本用法</h2> <blockquote><p>pom.xml</p></blockquote> <p>项目基本配置信息，包括项目名称、版本号，依赖库等配置信息，结合 maven 会自动下载项目所需要的依赖</p> <blockquote><p>/src/main/java/项目名/***Application 文件</p></blockquote> <p>是整个 SpringBoot 的入口文件，可在此文件直接右键运行项目</p> <h2 id="三、项目的运行与部署"><a href="#三、项目的运行与部署" aria-hidden="true" class="header-anchor">#</a> 三、项目的运行与部署</h2> <h3 id="_1-直接在-idea-软件"><a href="#_1-直接在-idea-软件" aria-hidden="true" class="header-anchor">#</a> 1.直接在 IDEA 软件</h3> <p>​	1) 点击窗口右上角 run 按钮</p> <p>​	2) 在项目入口文件 ***Application 中右键运行</p> <h3 id="_2-在终端运行"><a href="#_2-在终端运行" aria-hidden="true" class="header-anchor">#</a> 2.在终端运行</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /项目目录/
mvn spring-boot:run
</code></pre></div><h3 id="_3-直接打包项目部署"><a href="#_3-直接打包项目部署" aria-hidden="true" class="header-anchor">#</a> 3.直接打包项目部署</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>// 打包命令
mvn clean package
// 如果想要跳过单元测试, 加参数
mvn clean package -Dmaven.test.skip<span class="token operator">=</span>true
// 项目目录下会有一个 target 目录
<span class="token builtin class-name">cd</span> target/
// 部署 java jar 包
java -jar targe/***.jar
</code></pre></div><h3 id="备注"><a href="#备注" aria-hidden="true" class="header-anchor">#</a> 备注</h3> <p>有时候，打开一个 JAVA 项目，发现运行不了，其实是因为没有配置运行启动， 选择 Edit Configurations, 在其中点击 + 号，选择 SpringBoot, 创建一个启动项目，选择 Main class 中选择项目启动文件：***Application 其实会有路径提示的。修改Name 保存即可</p> <p><img src="/assets/img/edit_configurations.8f8c8871.jpg" alt="edit_configurations"></p> <h2 id="四、springboot-配置"><a href="#四、springboot-配置" aria-hidden="true" class="header-anchor">#</a> 四、SpringBoot 配置</h2> <h3 id="_1-application-properties"><a href="#_1-application-properties" aria-hidden="true" class="header-anchor">#</a> 1.application.properties</h3> <blockquote><p>通常 SpringBoot 配置文件写在 /src/main/resources/application.properties 文件中</p></blockquote> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 修改web服务端口</span>
<span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8081</span>
<span class="token comment"># 为项目增加入口子路径</span>
<span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/luckymoney</span>
</code></pre></div><blockquote><p>application.yml</p></blockquote> <p>这种配置文件，更加简洁直观,  yaml 的格式要求，key: [空格]value</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /luckymoney
</code></pre></div><h2 id="_3-常量的配置与使用"><a href="#_3-常量的配置与使用" aria-hidden="true" class="header-anchor">#</a> 3.常量的配置与使用</h2> <ol><li>在 application.yml 文件中 填写常量</li></ol> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">minMoney</span><span class="token punctuation">:</span> <span class="token number">1</span>
</code></pre></div><ol start="2"><li>在 Conttroller 文件中引用</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${minMoney}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> minMoney<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>3）在配置文件 application 中引用配置常量</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">minMoney</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;最少要${minMoney}元&quot;</span>
</code></pre></div><h3 id="_4-对象配置（类似类）"><a href="#_4-对象配置（类似类）" aria-hidden="true" class="header-anchor">#</a> 4. 对象配置（类似类）</h3> <blockquote><p>配置文件</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">limit</span><span class="token punctuation">:</span>
  <span class="token key atrule">minMoney</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">maxMoney</span><span class="token punctuation">:</span> <span class="token number">100</span>
  <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;最少要${limit.minMoney}元, 最大要发${limit.maxMoney}元&quot;</span>
</code></pre></div><blockquote><p>构造对应配置文件的类</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 注解很重要</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LimitConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> minMoney<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> maxMoney<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">BigDecimal</span> <span class="token function">getMinMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> minMoney<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMinMoney</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span> minMoney<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>minMoney <span class="token operator">=</span> minMoney<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">BigDecimal</span> <span class="token function">getMaxMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> maxMoney<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMaxMoney</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span> maxMoney<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maxMoney <span class="token operator">=</span> maxMoney<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>在 controller 中引用</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LimitConfig</span> limitConfig<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;说明：&quot;</span> <span class="token operator">+</span> limitConfig<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-配置运行环境"><a href="#_5-配置运行环境" aria-hidden="true" class="header-anchor">#</a> 5.配置运行环境</h3> <p>在开发 SpringBoot 项目中往往需要，开发环境一份配置，生产环境一份配置，这就需要做好配置切换工作，需要生成三份配置信息表： application.yml 、 application-dev.yml 和 application-prod.yml</p> <blockquote><p>application.yml 配置文件入口: 切换配置文件</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> prod
<span class="token comment">#    active: dev</span>
</code></pre></div><blockquote><p>application-dev.yml 开发环境配置信息</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /luckymoney
<span class="token comment">#  yaml 格式需要增加空格</span>
<span class="token key atrule">limit</span><span class="token punctuation">:</span>
  <span class="token key atrule">minMoney</span><span class="token punctuation">:</span> <span class="token number">0.01</span>
  <span class="token key atrule">maxMoney</span><span class="token punctuation">:</span> <span class="token number">9999</span>
  <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;最少要${limit.minMoney}元, 最大要发${limit.maxMoney}元&quot;</span>
</code></pre></div><blockquote><p>application-prod.yml 生产环境配置信息</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /luckymoney
<span class="token comment">#  yaml 格式需要增加空格</span>
<span class="token key atrule">limit</span><span class="token punctuation">:</span>
  <span class="token key atrule">minMoney</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">maxMoney</span><span class="token punctuation">:</span> <span class="token number">9999</span>
  <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&quot;最少要${limit.minMoney}元, 最大要发${limit.maxMoney}元&quot;</span>
</code></pre></div><p>值得注意的是，平时开发我们通常都是用 dev 配置环境，如果需要部署时候，其实可以直接打 jar 包，然后通过运行 jar 包的命令中+相关的配置即可部署含有生成环境配置的项目了。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>java -jar -Dspring.profiles.active<span class="token operator">=</span>prod target/luckymoney-0.0.1-SNAPSHOT.jar
</code></pre></div><h3 id="_6、调整-idea-运行时输出的日志内容"><a href="#_6、调整-idea-运行时输出的日志内容" aria-hidden="true" class="header-anchor">#</a> 6、调整 IDEA 运行时输出的日志内容</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># 修改日志格式</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">pattern</span><span class="token punctuation">:</span>
    <span class="token key atrule">console</span><span class="token punctuation">:</span> <span class="token string">&quot;[%thread] %-5level %logger{36} - %m%n&quot;</span>
</code></pre></div><p>输出的内容将不再还有日期事件</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>main<span class="token punctuation">]</span> INFO  com.imooc.mall.MallApplicationTests - No active profile set, falling back to default profiles: default
</code></pre></div><h3 id="_7、mybatis-的一些配置"><a href="#_7、mybatis-的一些配置" aria-hidden="true" class="header-anchor">#</a> 7、Mybatis 的一些配置</h3> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># Mybatis 的一些配置</span>
<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token key atrule">map-underscore-to-camel-case</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># 实现字段支持驼峰</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl <span class="token comment"># 控制台输入 SQL 语句，未来要写入数据库中</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mappers/*.xml <span class="token comment"># 指定 Mybatis xml 文件路径</span>
</code></pre></div><h2 id="五、springboot-controller-的使用"><a href="#五、springboot-controller-的使用" aria-hidden="true" class="header-anchor">#</a> 五、SpringBoot Controller 的使用</h2> <h3 id="_1-常见注解"><a href="#_1-常见注解" aria-hidden="true" class="header-anchor">#</a> 1. 常见注解</h3> <table><thead><tr><th>@Controller</th> <th>处理 http 请求</th></tr></thead> <tbody><tr><td>@RestController</td> <td>Spring4之后加入的注解，「原来返回 json，需要 @ResponseBody 配合 @Controller」</td></tr> <tr><td>@RequestMapping</td> <td>配置 Url 映射</td></tr> <tr><td>@GetMapping</td> <td>Get 请求</td></tr> <tr><td>@PostMapping</td> <td>Post 请求</td></tr> <tr><td>@PathVariable</td> <td>获取 URL 中的数据</td></tr> <tr><td>@RequestParam</td> <td>获取请求参数的值</td></tr></tbody></table> <blockquote><p>@Controller</p></blockquote> <p>注解在 Controller 上，默认 Controller 的方法返回 模板 html，这里需要增加 模板引擎 依赖</p> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token comment">&lt;!-- 模板引擎 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置 html 模板返回内容：大多数都是前后端分离的项目</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      	<span class="token comment">// index 对应 resource/templates/index.hmtl 中的内容</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 目前主流的项目部署，都是前后端分离，JAVA 只做后端借口，这种直接用 JAVA 代码渲染 html 的方式越来越少了。</span>
</code></pre></div><p>如果 @Controller 注解的 Controller 需要返回字符串，则需要在类前面或者方法前面增加 @ResponseBody 注解。效果等同于 @RestController;</p> <p>@RestController = @Controller + @ResponseBody</p> <blockquote><p>@GetMapping</p></blockquote> <p>控制方法访问路径</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Get 方法请求，/hello 返回结果</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;说明：&quot;</span> <span class="token operator">+</span> limitConfig<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Get 方法请求 /hello 和 /hi 效果一致</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/hi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;说明：&quot;</span> <span class="token operator">+</span> limitConfig<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>@PostMapping</p></blockquote> <p>处理 Post 请求的注解</p> <blockquote><p>@RequestMapping(&quot;/hello&quot;)</p></blockquote> <p>这个注解用来规划路径，如果某个 Controller 需要统一一个入口路径，则可以加入此注解</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 如果想请求 HelloController 中的方法，则路径需要统一加上 /hello</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre></div><p>如果使用 @RequestMapping 注解方法，则此方法将不论 get 还是 post 都是可以请求的，不推荐。</p> <blockquote><p>@PathVariable 和 RequestParam</p></blockquote> <p>可以在请求 URL 中获取到参数值，</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 请求 URL 形式： /say/100 </span>
<span class="token comment">// 注意：@GetMapping 中也有相关的对应</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/say/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;ID:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 请求 URL 形式：/say?id=100</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/say&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;ID:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 默认值请求</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/say&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;ID:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// post 请求：不论是将参数放在 URL 上还是 post body 中，都可以被 @RequestParam 注解获取到</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/say&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;ID:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="六、-springboot-数据库操作——spring-data-jpa"><a href="#六、-springboot-数据库操作——spring-data-jpa" aria-hidden="true" class="header-anchor">#</a> 六、 SpringBoot 数据库操作——Spring-Data-Jpa</h2> <blockquote><p>JPA(JAVA Persistence API)</p></blockquote> <p>定义一些列对象持久化的标准，目前实现这一规范的产品有：Hibernate, TopLink 等</p> <p>Restful API 规范</p> <table><thead><tr><th>请求类型</th> <th>请求路径</th> <th>功能</th></tr></thead> <tbody><tr><td>GET</td> <td>/luckymoneys</td> <td>获取红包列表</td></tr> <tr><td>POST</td> <td>/luckymoneys</td> <td>创建一个红包</td></tr> <tr><td>GET</td> <td>/luckymoneys/id</td> <td>通过 id 查询单个红包</td></tr> <tr><td>PUT</td> <td>/luckymoneys/id</td> <td>通过 id 更新红包</td></tr></tbody></table> <blockquote><p>使用 Spring-Data-Jpa 需要的依赖</p></blockquote> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- Spring-Data-Jpa --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- MySQL 链接 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>在配置信息中增加数据库相关配置</p></blockquote> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>8889/luckymoney
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> root
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> update <span class="token comment"># create 则每次启动都会删表重新创建</span>
    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><blockquote><p>构建实体类</p></blockquote> <p>实体类对应着表结构，可以通过下面得配置来让 构建得实体类生成 表结构,</p> <p>要注意实体类注解 和 主键注解</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> create 
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Luckymoney</span> <span class="token punctuation">{</span>

    <span class="token comment">// 主键</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token comment">// 金额</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> money<span class="token punctuation">;</span>
    <span class="token comment">// 发送方</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> producer<span class="token punctuation">;</span>
    <span class="token comment">// 接收方</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> consumer<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">BigDecimal</span> <span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> money<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getProducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> producer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setProducer</span><span class="token punctuation">(</span><span class="token class-name">String</span> producer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>producer <span class="token operator">=</span> producer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> consumer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConsumer</span><span class="token punctuation">(</span><span class="token class-name">String</span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>consumer <span class="token operator">=</span> consumer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>构建 Repository 接口</p></blockquote> <p>构建这个接口之后，对于实体类得一些 增删改查操作都可以被 Spring-Data-Jpa 实现了</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>imooc<span class="token punctuation">.</span>luckymoney</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository</span><span class="token punctuation">.</span><span class="token class-name">JpaRepository</span><span class="token punctuation">;</span>
<span class="token comment">// 这里传入 实体类 和 主键的类型</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LuckymoneyRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Luckymoney</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>具体实现</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LuckymoneyController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span>  <span class="token class-name">LuckymoneyRepository</span> luckymoneyRepository<span class="token punctuation">;</span>
  
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/luckymoneys&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Luckymoney</span><span class="token punctuation">&gt;</span></span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> luckymoneyRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 创建红包
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/luckymoneys&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">Luckymoney</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;producer&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> producer<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span><span class="token class-name">BigDecimal</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Luckymoney</span> luckymoney <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Luckymoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney<span class="token punctuation">.</span><span class="token function">setProducer</span><span class="token punctuation">(</span>producer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> luckymoneyRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>luckymoney<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 通过 id 查询红包
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/luckymoneys/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">Luckymoney</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> luckymoneyRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 更新红包
     */</span>
    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/luckymoneys/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">Luckymoney</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;consumer&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Luckymoney</span><span class="token punctuation">&gt;</span></span> optionalLuckymoney <span class="token operator">=</span> luckymoneyRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>optionalLuckymoney<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 获取 id 对应得数据</span>
        <span class="token class-name">Luckymoney</span> luckymoney <span class="token operator">=</span> optionalLuckymoney<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney<span class="token punctuation">.</span><span class="token function">setConsumer</span><span class="token punctuation">(</span>consumer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> luckymoneyRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>luckymoney<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="七、事务"><a href="#七、事务" aria-hidden="true" class="header-anchor">#</a> 七、事务</h2> <p>数据库事务，是指作为单个逻辑工作单元执行的一系列操作，要么完全执行，要么完全不执行。有错误就会回滚到未操作的状态</p> <blockquote><p>创建 Service 类</p></blockquote> <p>Service 层是用来处理复杂的业务逻辑，通过分层的概念来说，减缓 Controller 的操作内容，让专属层做专属的事情，才是正确的选择。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LuckymoneyService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LuckymoneyRepository</span> luckymoneyRepository<span class="token punctuation">;</span>
    <span class="token comment">/**
     * 事务 指的是数据库事务
     * 但是需要 数据库支持事务操作，Mysql的数据库引擎中 InnoDB 支持；MyISAM 这个是不支持的
     */</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">creatTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Luckymoney</span> luckymoney1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Luckymoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney1<span class="token punctuation">.</span><span class="token function">setProducer</span><span class="token punctuation">(</span><span class="token string">&quot;刘伟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney1<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">520</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoneyRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>luckymoney1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Luckymoney</span> luckymoney2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Luckymoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney2<span class="token punctuation">.</span><span class="token function">setProducer</span><span class="token punctuation">(</span><span class="token string">&quot;刘伟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoney2<span class="token punctuation">.</span><span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">1314</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        luckymoneyRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>luckymoney2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码，是在 Service 类中增加了发两个红包的功能，通过 @Transactional 注解实现了，如果有一个红包发送失败，两个红包都不会被发送。</p> <h2 id="idea-使用技巧"><a href="#idea-使用技巧" aria-hidden="true" class="header-anchor">#</a> IDEA 使用技巧</h2> <h3 id="_1-快捷键"><a href="#_1-快捷键" aria-hidden="true" class="header-anchor">#</a> 1.快捷键</h3> <p>Ctrl + Enter: 快捷为类生成 构造函数，getter setter 方法</p> <p>Commond + p：可以查看方法参数描述</p> <p>Option + Enter: 快速创建接口定义的方法</p> <h3 id="_2-快速开发的三个配置"><a href="#_2-快速开发的三个配置" aria-hidden="true" class="header-anchor">#</a> 2. 快速开发的三个配置</h3> <ul><li>Maven 依赖自动刷新</li> <li>自动导入包</li> <li>Lombok 为实体类自动构架 getter setter 等方法（看个人需要）</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/19/2020, 10:36:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notebook/java/2/SpringBoot接口规范.html">
          SpringBoot 中接口规范
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d9b0a8be.js" defer></script><script src="/assets/js/2.dfeefe94.js" defer></script><script src="/assets/js/5.d7099aa7.js" defer></script>
  </body>
</html>
